function y = lpf2(x)
%LPF2 Filters input x and returns output y.

%
% MATLAB Code
% Generated by MATLAB(R) 7.14 and the DSP System Toolbox 8.2.
%
% Generated on: 18-May-2013 19:04:22
%

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % Equiripple Lowpass filter designed using the FIRPM function.
    %
    % % All frequency values are in Hz.
    % Fs = 44100;  % Sampling Frequency
    %
    % Fpass = 3000;            % Passband Frequency
    % Fstop = 4000;            % Stopband Frequency
    % Dpass = 0.057501127785;  % Passband Ripple
    % Dstop = 0.0001;          % Stopband Attenuation
    % dens  = 20;              % Density Factor
    %
    % % Calculate the order from the parameters using FIRPMORD.
    % [N, Fo, Ao, W] = firpmord([Fpass, Fstop]/(Fs/2), [1 0], [Dpass, Dstop]);
    %
    % % Calculate the coefficients using the FIRPM function.
    % b  = firpm(N, Fo, Ao, W, {dens});
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [-8.83533782709104e-05 -2.76188561827704e-05 ...
        7.49885385030922e-05 0.000315293534789836 0.000743494512651067 ...
        0.00139302729834032 0.00226379279602618 0.00330789189928298 ...
        0.0044225840097963 0.00545421580375424 0.00621576376111487 ...
        0.00651716449030249 0.00620485659069088 0.00520306089302344 ...
        0.00354770863691235 0.0014031976774333 -0.000945315894184717 ...
        -0.00312777058854926 -0.00475037423604822 -0.00547302572752777 ...
        -0.00508817032382748 -0.00358399785120415 -0.00117498294381879 ...
        0.00171244761466821 0.00450285390528416 0.00657606510734115 ...
        0.00739603942382867 0.00663872032440901 0.00429007735077352 ...
        0.000688034263951607 -0.00350738931690291 -0.0074206152741681 ...
        -0.0101277608647463 -0.0108569115157899 -0.00918051699724698 ...
        -0.00515622249968836 0.000620780798420554 0.00707723530944329 ...
        0.0128333586343694 0.0164642334391155 0.0168056581981441 0.0132457598748 ...
        0.00593968959131944 -0.00410509539485754 -0.0151047426318236 ...
        -0.024737567170537 -0.030514514098084 -0.0302218390528273 ...
        -0.0223576106736615 -0.0064789333407865 0.0166116086671779 ...
        0.044885259571634 0.0753212818792138 0.104324934937767 0.128263119872941 ...
        0.144027562344196 0.149527855983445 0.144027562344196 0.128263119872941 ...
        0.104324934937767 0.0753212818792138 0.044885259571634 ...
        0.0166116086671779 -0.0064789333407865 -0.0223576106736615 ...
        -0.0302218390528273 -0.030514514098084 -0.024737567170537 ...
        -0.0151047426318236 -0.00410509539485754 0.00593968959131944 ...
        0.0132457598748 0.0168056581981441 0.0164642334391155 0.0128333586343694 ...
        0.00707723530944329 0.000620780798420554 -0.00515622249968836 ...
        -0.00918051699724698 -0.0108569115157899 -0.0101277608647463 ...
        -0.0074206152741681 -0.00350738931690291 0.000688034263951607 ...
        0.00429007735077352 0.00663872032440901 0.00739603942382867 ...
        0.00657606510734115 0.00450285390528416 0.00171244761466821 ...
        -0.00117498294381879 -0.00358399785120415 -0.00508817032382748 ...
        -0.00547302572752777 -0.00475037423604822 -0.00312777058854926 ...
        -0.000945315894184717 0.0014031976774333 0.00354770863691235 ...
        0.00520306089302344 0.00620485659069088 0.00651716449030249 ...
        0.00621576376111487 0.00545421580375424 0.0044225840097963 ...
        0.00330789189928298 0.00226379279602618 0.00139302729834032 ...
        0.000743494512651067 0.000315293534789836 7.49885385030922e-05 ...
        -2.76188561827704e-05 -8.83533782709104e-05]);
end

y = step(Hd,x);


% [EOF]
